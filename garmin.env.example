# garmin-bridge.env
# Environment file for bridge.py
#
# Required:
# - DB_PATH: path to Garmin Messenger SQLite DB (message.db), mounted read-only
# - ROOT_DIR: root directory for media files (attachment_id.<ext> lives under this tree)

DB_PATH=/opt/garmin/message.db
ROOT_DIR=/opt/garmin/media

# Bridge-owned state
STATE_DIR=/var/lib/garmin-bridge
STATE_DB=/var/lib/garmin-bridge/state.db

# Polling
POLL_DB_SEC=1
TAIL_LIMIT=250

# Logging
DEBUG=1
LOG_LEVEL=INFO
LOG_JSON=0

# Maubot webhook (bridge -> maubot)
MAUBOT_WEBHOOK_URL=http://127.0.0.1:29325/garmin/inbound
MAUBOT_WEBHOOK_TOKEN=

# Bridge HTTP API (maubot -> bridge)
HTTP_BIND=127.0.0.1
HTTP_PORT=8808
HTTP_TOKEN=

# Outbound sender integration (bridge -> your adb/uiautomator sender)
GARMIN_SEND_CMD=/usr/local/bin/garmin-send
GARMIN_SEND_TIMEOUT_SEC=45
OUTBOUND_POLL_AFTER_SEND_SEC=6

# Media handling
MAX_ATTACH_MB=25
MEDIA_EXTS=avif,jpg,jpeg,png,webp,gif,mp4,m4a,ogg,oga,wav
SEARCH_ROOTS=high,preview,low,audio,
